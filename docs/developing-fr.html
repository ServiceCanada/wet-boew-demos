<!DOCTYPE html>
<html class="no-js" lang="fr" dir="ltr">
<head>
<meta charset="utf-8">
<!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
<title>Developing for GCWeb - Canada.ca</title>
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta name="description" content=" " />
<link href="/wet-boew-demos/GCWeb-PR1916/dist/GCWeb/assets/favicon.ico" rel="icon" type="image/x-icon" />
<link rel="stylesheet" href="/wet-boew-demos/GCWeb-PR1916/dist/GCWeb/css/theme.css" />
<noscript><link rel="stylesheet" href="/wet-boew-demos/GCWeb-PR1916/dist/wet-boew/css/noscript.css" /></noscript>
</head>
<body vocab="http://schema.org/" typeof="WebPage"><nav>
	<ul id="wb-tphp">
		<li class="wb-slc"><a class="wb-sl" href="#wb-cont">Passer au contenu principal</a></li>
		<li class="wb-slc visible-sm visible-md visible-lg"><a class="wb-sl" href="#wb-info">Passer à «&#160;À propos de ce site&#160;»</a></li></ul>
</nav>

<header>
	<div id="wb-bnr" class="container">
		<div class="row">
			
				<section id="wb-lng" class="col-xs-3 col-sm-12 pull-right text-right">
	<h2 class="wb-inv">Sélection de la langue</h2>
	<ul class="list-inline mrgn-bttm-0">
		<li>
			<a lang="en" hreflang="en" href="developing-en.html">
				<span class="hidden-xs">English</span>
				<abbr title="English" class="visible-xs h3 mrgn-tp-sm mrgn-bttm-0 text-uppercase">en</abbr>
			</a>
		</li>
	</ul>
</section>

			
			<div class="brand col-xs-9 col-sm-5 col-md-4" property="publisher" typeof="GovernmentOrganization">
	<a href="https://wet-boew.github.io/GCWeb/" property="url">
		<img src="/wet-boew-demos/GCWeb-PR1916/dist/GCWeb/assets/sig-blk-fr.svg" alt="Gouvernement du Canada" property="logo" /><span class="wb-inv"> / <span lang="en">Government of Canada</span></span>
	</a>
	<meta property="name" content="Gouvernement du Canada">
	<meta property="areaServed" typeof="Country" content="Canada" />
	<link property="logo" href="/wet-boew-demos/GCWeb-PR1916/dist/GCWeb/assets/wmms-blk.svg" />
</div>

			
				
<section id="wb-srch" class="col-lg-offset-4 col-md-offset-4 col-sm-offset-2 col-xs-12 col-sm-5 col-md-4">
	<h2>Recherche</h2>
	<form action="#" method="post" name="cse-search-box" role="search">
		<div class="form-group wb-srch-qry">
			<label for="wb-srch-q" class="wb-inv">Rechercher dans Canada.ca</label>
			<input id="wb-srch-q" list="wb-srch-q-ac" class="wb-srch-q form-control" name="q" type="search" value="" size="34" maxlength="170" placeholder="Rechercher dans Canada.ca" />
			<datalist id="wb-srch-q-ac"></datalist>
		</div>
		<div class="form-group submit">
			<button type="submit" id="wb-srch-sub" class="btn btn-primary btn-small" name="wb-srch-sub">
				<span class="glyphicon-search glyphicon"></span>
				<span class="wb-inv">Recherche</span>
			</button>
		</div>
	</form>
</section>

			
		</div>
	</div>
	<hr>
	<div class="container">
		<div class="row"><div class="col-md-8">
					<nav class="gcweb-menu" typeof="SiteNavigationElement">
	<h2 class="wb-inv">Menu</h2>
	<button type="button" aria-haspopup="true" aria-expanded="false">Menu<span class="wb-inv"> principal</span> <span class="expicon glyphicon glyphicon-chevron-down"></span></button>
	<ul role="menu" aria-orientation="vertical" data-ajax-replace="https://www.canada.ca/content/dam/canada/sitemenu/sitemenu-v2-fr.html"><li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/emplois.html">Emplois et milieu de travail</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/immigration-citoyennete.html">Immigration et citoyenneté</a></li>
		<li role="presentation"><a role="menuitem" href="https://voyage.gc.ca/">Voyage et tourisme</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/entreprises.html">Entreprises et industrie</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/prestations.html">Prestations</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/sante.html">Santé</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/impots.html">Impôts</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/environnement.html">Environnement et ressources naturelles</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/defense.html">Sécurité nationale et défense</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/culture.html">Culture, histoire et sport</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/police.html">Services de police, justice et urgences</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/transport.html">Transport et infrastructure</a></li>
		<li role="presentation"><a role="menuitem" href="https://international.gc.ca/world-monde/index.aspx?lang=fra">Canada et le monde</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/finance.html">Argent et finances</a></li>
		<li role="presentation"><a role="menuitem" href="https://www.canada.ca/fr/services/science.html">Science et innovation</a></li></ul>
</nav>

				</div></div>
	</div>
	<nav id="wb-bc" property="breadcrumb">
	<h2>Vous êtes ici :</h2>
	<div class="container">
		<ol class="breadcrumb" typeof="BreadcrumbList">
			<li property="itemListElement" typeof="ListItem">
				<a property="item" typeof="WebPage" href="https://www.canada.ca/fr.html">
					<span property="name">Canada.ca</span>
				</a>
				<meta property="position" content="1">
			</li>
		</ol>
	</div>
</nav>


</header>

<main class="container" property="mainContentOfPage" resource="#wb-main" typeof="WebPageElement">
<h1 id="wb-cont" property="name">Developing for GCWeb</h1>
<p><strong>[Needs translation]</strong></p>

<p>Install NodeJS</p>

<h2 id="building-gcweb">Building GCweb</h2>

<ul>
  <li>Build a local development version: <code class="language-plaintext highlighter-rouge">grunt</code> or <code class="language-plaintext highlighter-rouge">grunt debug</code></li>
  <li>Run code quality check: <code class="language-plaintext highlighter-rouge">grunt test</code></li>
  <li>Build production files: <code class="language-plaintext highlighter-rouge">grunt dist</code></li>
  <li>Compile and assemble méli-mélo:
    <ul>
      <li>Run local: <code class="language-plaintext highlighter-rouge">grunt méli-mélo</code></li>
      <li>Run from compiled dist: <code class="language-plaintext highlighter-rouge">grunt méli-mélo-runLocal</code></li>
      <li>Run from wet-boew sites : <code class="language-plaintext highlighter-rouge">grunt méli-mélo-remote</code></li>
    </ul>
  </li>
  <li>Regenerate site web content: <code class="language-plaintext highlighter-rouge">grunt site-contents</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">_data/components.json</code></li>
      <li><code class="language-plaintext highlighter-rouge">_data/sites.json</code></li>
      <li><code class="language-plaintext highlighter-rouge">_data/templates.json</code></li>
      <li><code class="language-plaintext highlighter-rouge">_wetboew-demos/**</code></li>
    </ul>
  </li>
</ul>

<h2 id="run-gcweb-wetsite-locally">Run GCWeb wetsite locally</h2>

<p>Ensure that you have builded GCWeb first</p>

<p>After your are running docking container or the docker composer you will be able to access your local website at: <code class="language-plaintext highlighter-rouge">http://localhost:4000</code></p>

<p>Build Dockerfile locally</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t jekyll-with-env-options .
</code></pre></div></div>

<p>Run your image</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>grunt debug

docker run -it --rm -v "$PWD":/usr/src/app -p "4000:4000" --env JEKYLL_OPTIONS='--config _config.yml,_localJekyll.yml' jekyll-with-env-options
</code></pre></div></div>

<h3 id="alternative-with-docker-compose">alternative with docker-compose</h3>

<p>This version leverage the remote theme wet-beoew/gcweb-jekyll. This equivalent if you run with gh-pages through your own GCWeb repository.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>grunt debug
docker-compose up
</code></pre></div></div>

<p>First time run: <code class="language-plaintext highlighter-rouge">docker-compose up --build</code></p>

<h2 id="run-the-continous-integration-and-deployment-script-locally">Run the continous integration and deployment script locally</h2>

<p>Install ACT - <a href="https://github.com/nektos/act">https://github.com/nektos/act</a></p>

<p>Github fork needed:</p>

<ul>
  <li><a href="https://github.com/wet-boew/gcweb">wet-boew/gcweb</a></li>
  <li><a href="https://github.com/wet-boew/gcweb-jekyll">wet-boew/gcweb-jekyll</a></li>
  <li><a href="https://github.com/wet-boew/gcweb-compiled-demos">wet-boew/gcweb-compiled-demos</a></li>
  <li><a href="https://github.com/wet-boew/themes-dist">wet-boew/themes-dist</a></li>
  <li><a href="https://github.com/wet-boew/themes-cdn">wet-boew/themes-cdn</a></li>
</ul>

<p>Run the continuous deployment script</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>act -f deploy-gcweb -s my_token=&lt;XXXXXXXXXXXXXX&gt; -s my_username="&lt;GITHUB USERNAME&gt;" - my_email="&lt;GITHUB HANDLE&gt;@users.noreply.github.com" -a &lt;GITHUB HANDLE&gt;
</code></pre></div></div>

<p>Where:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;GITHUB USERNAME&gt;</code>: Your name, like “John Doe”</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;GITHUB HANDLE&gt;</code>: Your github id</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;XXXXXXXXXXXXXX&gt;</code>: Your personal access token with access to public repository</li>
</ul>

<h3 id="run-additional-ci-test-locally">Run additional CI test locally</h3>

<p>Pre-requites</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>grunt debug
docker-compose up

</code></pre></div></div>

<p>HTML link checker</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker exec -i gcweb_jekyll rake
</code></pre></div></div>

<p>Bootlint test</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>grunt bootlint
</code></pre></div></div>

<p>HTML lint</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>grunt htmllint:all
</code></pre></div></div>

<h2 id="refresh-your-github-pages-with-the-latest-theme-changes">Refresh your github pages with the latest theme changes</h2>

<p>You can make a commit to your site and it will get regenerated with the latest version of the jekyll theme. Alternatively, the following curl command will told github to regenerate your site.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -u &lt;GITHUB HANDLE&gt;:&lt;XXXXXXXXXXXXXX&gt; -X POST https://api.github.com/repos/&lt;GITHUB HANDLE&gt;/&lt;GITHUB REPOSITORY&gt;/pages/builds
</code></pre></div></div>

<p>Where:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;GITHUB HANDLE&gt;</code>: Your github id</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;XXXXXXXXXXXXXX&gt;</code>: Your personal access token with access to public repository</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;GITHUB REPOSITORY&gt;</code>: Your web site github repository, like “jekyll-website”</li>
</ul>

<p>Note: A manual update is required if you have specified a version for your jekyll remote theme in your <code class="language-plaintext highlighter-rouge">config.yml</code> file.</p>

<h2 id="contribuer-à-gcweb">Contribuer à GCWeb</h2>

<p>Lorsque vous effectuez des correctifs ou améliorations à GCWeb, tels que la correction d’un bogue ou l’ajout d’une fonctionnalité, il pourrait être intéressant pour toutes et tous de contribuer au projet afin que tous les implémentations de GCWeb puissent en bénéficier. Pour ce faire, veuillez consulter les <a href="https://github.com/wet-boew/GCWeb/blob/master/CONTRIBUTING.md#comment-contribuer">lignes directrices de contribution de GCWeb</a>.</p>

<!--
NOTES:
-For testing/ease of development
-Remove this file before merging
-->
<footer class="pagedetails">
	<h2 class="wb-inv">Détails de la page</h2>

	<div class="row"><div class="col-sm-8 col-md-9 col-lg-9"><div data-ajax-replace="/sites/feedback/ajax/report-problem-fr.html">
	<div class="row row-no-gutters"><div class="col-sm-11 col-md-7 col-lg-6"><a class="btn btn-default btn-block" href="https://www.canada.ca/fr/signaler-probleme.html">Signaler un problème ou une erreur sur cette page</a>
		</div>
	</div>
</div>
</div><div class="col-xs-12">
			<dl id="wb-dtmd">
				<dt>Date de modification&#160;:</dt>
				<dd><time property="dateModified">2021-12-03</time></dd>
			</dl>
		</div>
	</div>
</footer>

</main>

<footer id="wb-info">
	
	<div class="landscape">
		<nav class="container wb-navcurr">
			<h2 class="wb-inv">Au sujet du gouvernement</h2>
			<ul class="list-unstyled colcount-xs-2 colcount-md-3">
				<li><a href="https://www.canada.ca/fr/contact.html">Contactez-nous</a></li>
				<li><a href="https://www.canada.ca/fr/gouvernement/min.html">Ministères et organismes</a></li>
				<li><a href="https://www.canada.ca/fr/gouvernement/fonctionpublique.html">Fonction publique et force militaire</a></li>
				<li><a href="https://www.canada.ca/fr/nouvelles.html">Nouvelles</a></li>
				<li><a href="https://www.canada.ca/fr/gouvernement/systeme/lois.html">Traités, lois et règlements</a></li>
				<li><a href="https://www.canada.ca/fr/transparence/rapports.html">Rapports à l'échelle du gouvernement</a></li>
				<li><a href="https://pm.gc.ca/fra">Premier ministre</a></li>
				<li><a href="https://www.canada.ca/fr/gouvernement/systeme.html">Comment le gouvernement fonctionne</a></li>
				<li><a href="https://ouvert.canada.ca/">Gouvernement ouvert</a></li>
			</ul>
		</nav>
	</div>
	
	<div class="brand">
		<div class="container">
			<div class="row ">
				
				<nav class="col-md-9 col-lg-10 ftr-urlt-lnk">
					<h2 class="wb-inv">À propos de ce site</h2>
					<ul>
						<li><a href="https://www.canada.ca/fr/sociaux.html">Médias sociaux</a></li>
						<li><a href="https://www.canada.ca/fr/mobile.html">Applications mobiles</a></li>
						<li><a href="https://www1.canada.ca/fr/nouveausite.html">À propos de Canada.ca</a></li>
						<li><a href="https://www.canada.ca/fr/transparence/avis.html">Avis</a></li>
						<li><a href="https://www.canada.ca/fr/transparence/confidentialite.html">Confidentialité</a></li>
					</ul>
				</nav>
				
				<div class="col-xs-6 visible-sm visible-xs tofpg">
					<a href="#wb-cont">Haut de la page <span class="glyphicon glyphicon-chevron-up"></span></a>
				</div><div class="col-xs-6 col-md-3 col-lg-2 text-right"><img src="/wet-boew-demos/GCWeb-PR1916/dist/GCWeb/assets/wmms-blk.svg" alt="Symbole du gouvernement du Canada" />
				</div>
			</div>
		</div>
	</div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha384-rY/jv8mMhqDabXSo+UCggqKtdmBfd3qC2/KvyTDNQ6PcUJXaxK1tMepoQda4g5vB" crossorigin="anonymous"></script>
<script src="/wet-boew-demos/GCWeb-PR1916/dist/wet-boew/js/wet-boew.js"></script>
<script src="/wet-boew-demos/GCWeb-PR1916/dist/GCWeb/js/theme.js"></script>
</body>
</html>
